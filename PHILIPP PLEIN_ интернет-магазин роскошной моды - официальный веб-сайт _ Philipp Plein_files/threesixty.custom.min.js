!function(a){"use strict";a.ThreeSixty=function(b,c){var e,d=this,f=[];d.$el=a(b),d.el=b,d.$el.data("ThreeSixty",d),d.init=function(){e=a.extend({},a.ThreeSixty.defaultOptions,c),e.disableSpin&&(e.currentFrame=1,e.endFrame=1),d.initProgress(),d.loadImages()},d.resize=function(){},d.initProgress=function(){d.$el.css({width:e.width+"px",height:e.height+"px","background-image":"none !important"}),e.styles&&d.$el.css(e.styles),d.responsive(),d.$el.find(e.progress).css({marginTop:e.height/2-15+"px"}),d.$el.find(e.progress).fadeIn("slow"),d.$el.find(e.imgList).hide()},d.loadImages=function(){for(var a=0;a<e.imgArray.length;a++)d.loadNextImage(a)},d.loadNextImage=function(b){var c,g,h,j;c=document.createElement("li"),j=e.zeroBased?0:1,g=e.imgArray?e.imgArray[b]:e.domain+e.imagePath+e.filePrefix+d.zeroPad(b+j)+e.ext+(d.browser.isIE()?"?"+(new Date).getTime():""),h=a("<img>").attr("src",g).addClass("previous-image").appendTo(c),f.push(h),d.$el.find(e.imgList).append(c),a(h).load(function(){d.imageLoaded()})},d.imageLoaded=function(){e.loadedImages+=1,a(e.progress+" span").text(Math.floor(e.loadedImages/e.totalFrames*100)+"%"),e.loadedImages>=e.totalFrames&&(e.disableSpin&&f[0].removeClass("previous-image").addClass("current-image"),a(e.progress).fadeOut("slow",function(){a(this).hide(),d.showImages(),d.showNavigation()}))},d.showImages=function(){d.$el.find(".txtC").fadeIn(),d.$el.find(e.imgList).fadeIn(),d.ready=!0,e.ready=!0,e.drag&&d.initEvents(),d.refresh(),d.initPlugins(),e.onReady(),setTimeout(function(){d.responsive()},50)},d.initPlugins=function(){a.each(e.plugins,function(b,c){if("function"!=typeof a[c])throw new Error(c+" not available.");a[c].call(d,d.$el,e)})},d.showNavigation=function(){if(e.navigation&&!e.navigation_init){var b,c,f,g;b=a("<div/>").attr("class","nav_bar"),c=a("<a/>").attr({href:"#",class:"nav_bar_next"}).html("next"),f=a("<a/>").attr({href:"#",class:"nav_bar_previous"}).html("previous"),g=a("<a/>").attr({href:"#",class:"nav_bar_play"}).html("play"),b.append(f),b.append(g),b.append(c),d.$el.prepend(b),c.bind("mousedown touchstart",d.next),f.bind("mousedown touchstart",d.previous),g.bind("mousedown touchstart",d.play_stop),e.navigation_init=!0}},d.play_stop=function(b){b.preventDefault(),e.autoplay?(e.autoplay=!1,a(b.currentTarget).removeClass("nav_bar_stop").addClass("nav_bar_play"),clearInterval(e.play),e.play=null):(e.autoplay=!0,e.play=setInterval(d.moveToNextFrame,e.playSpeed),a(b.currentTarget).removeClass("nav_bar_play").addClass("nav_bar_stop"))},d.next=function(a){a&&a.preventDefault(),e.endFrame-=5,d.refresh()},d.previous=function(a){a&&a.preventDefault(),e.endFrame+=5,d.refresh()},d.play=function(a,b){var c=a||e.playSpeed,f=b||e.autoplayDirection;e.autoplayDirection=f,e.autoplay||(e.autoplay=!0,e.play=setInterval(d.moveToNextFrame,c))},d.stop=function(){e.autoplay&&(e.autoplay=!1,clearInterval(e.play),e.play=null)},d.moveToNextFrame=function(){1===e.autoplayDirection?e.endFrame-=1:e.endFrame+=1,d.refresh()},d.gotoAndPlay=function(a){if(e.disableWrap)e.endFrame=a,d.refresh();else{var b=Math.ceil(e.endFrame/e.totalFrames);0===b&&(b=1);var c=b>1?e.endFrame-(b-1)*e.totalFrames:e.endFrame,f=e.totalFrames-c,g=0;g=a-c>0?a-c<c+(e.totalFrames-a)?e.endFrame+(a-c):e.endFrame-(c+(e.totalFrames-a)):c-a<f+a?e.endFrame-(c-a):e.endFrame+(f+a),c!==a&&(e.endFrame=g,d.refresh())}},d.initEvents=function(){d.$el.bind("mousedown touchstart touchmove touchend mousemove click",function(a){a.preventDefault(),"mousedown"===a.type&&1===a.which||"touchstart"===a.type?(e.pointerStartPosX=d.getPointerEvent(a).pageX,e.dragging=!0,e.onDragStart(e.currentFrame)):"touchmove"===a.type?d.trackPointer(a):"touchend"===a.type&&(e.dragging=!1,e.onDragStop(e.endFrame))}),a(document).bind("mouseup",function(b){e.dragging=!1,e.onDragStop(e.endFrame),a(this).css("cursor","none")}),a(window).bind("resize",function(a){d.responsive()}),a(document).bind("mousemove",function(a){e.dragging?(a.preventDefault(),!d.browser.isIE&&e.showCursor&&d.$el.css("cursor","url(assets/images/hand_closed.png), auto")):!d.browser.isIE&&e.showCursor&&d.$el.css("cursor","url(assets/images/hand_open.png), auto"),d.trackPointer(a)}),a(window).resize(function(){d.resize()})},d.getPointerEvent=function(a){return a.originalEvent.targetTouches?a.originalEvent.targetTouches[0]:a},d.trackPointer=function(a){e.ready&&e.dragging&&(e.pointerEndPosX=d.getPointerEvent(a).pageX,e.monitorStartTime<(new Date).getTime()-e.monitorInt&&(e.pointerDistance=e.pointerEndPosX-e.pointerStartPosX,e.pointerDistance>0?e.endFrame=e.currentFrame+Math.ceil((e.totalFrames-1)*e.speedMultiplier*(e.pointerDistance/d.$el.width())):e.endFrame=e.currentFrame+Math.floor((e.totalFrames-1)*e.speedMultiplier*(e.pointerDistance/d.$el.width())),e.disableWrap&&(e.endFrame=Math.min(e.totalFrames-(e.zeroBased?1:0),e.endFrame),e.endFrame=Math.max(e.zeroBased?0:1,e.endFrame)),d.refresh(),e.monitorStartTime=(new Date).getTime(),e.pointerStartPosX=d.getPointerEvent(a).pageX))},d.refresh=function(){0===e.ticker&&(e.ticker=setInterval(d.render,Math.round(1e3/e.framerate)))},d.render=function(){var a;e.currentFrame!==e.endFrame?(a=e.endFrame<e.currentFrame?Math.floor(.1*(e.endFrame-e.currentFrame)):Math.ceil(.1*(e.endFrame-e.currentFrame)),d.hidePreviousFrame(),e.currentFrame+=a,d.showCurrentFrame(),d.$el.trigger("frameIndexChanged",[d.getNormalizedCurrentFrame(),e.totalFrames])):(window.clearInterval(e.ticker),e.ticker=0)},d.hidePreviousFrame=function(){f[d.getNormalizedCurrentFrame()].removeClass("current-image").addClass("previous-image")},d.showCurrentFrame=function(){f[d.getNormalizedCurrentFrame()].removeClass("previous-image").addClass("current-image")},d.getNormalizedCurrentFrame=function(){var a,b;return e.disableWrap?(a=Math.min(e.currentFrame,e.totalFrames-(e.zeroBased?1:0)),b=Math.min(e.endFrame,e.totalFrames-(e.zeroBased?1:0)),a=Math.max(a,e.zeroBased?0:1),b=Math.max(b,e.zeroBased?0:1),e.currentFrame=a,e.endFrame=b):(a=Math.ceil(e.currentFrame%e.totalFrames),a<0&&(a+=e.totalFrames-(e.zeroBased?1:0))),a},d.getCurrentFrame=function(){return e.currentFrame},d.responsive=function(){e.responsive&&d.$el.css({height:d.$el.find(".current-image").first().css("height"),width:"100%"})},d.zeroPad=function(a){function b(a,b){var c=a.toString();if(e.zeroPadding)for(;c.length<b;)c="0"+c;return c}var c=Math.log(e.totalFrames)/Math.LN10,d=1e3,f=Math.round(c*d)/d,g=Math.floor(f)+1;return b(a,g)},d.browser={},d.browser.isIE=function(){var a=-1;if("Microsoft Internet Explorer"===navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");null!==c.exec(b)&&(a=parseFloat(RegExp.$1))}return a!==-1},d.getConfig=function(){return e},a.ThreeSixty.defaultOptions={dragging:!1,ready:!1,pointerStartPosX:0,pointerEndPosX:0,pointerDistance:0,monitorStartTime:0,monitorInt:10,ticker:0,speedMultiplier:7,totalFrames:180,currentFrame:0,endFrame:0,loadedImages:0,framerate:60,domains:null,domain:"",parallel:!1,queueAmount:8,idle:0,filePrefix:"",ext:"png",height:300,width:300,styles:{},navigation:!1,autoplay:!1,autoplayDirection:1,disableSpin:!1,disableWrap:!1,responsive:!1,zeroPadding:!1,zeroBased:!1,plugins:[],showCursor:!1,drag:!0,onReady:function(){},onDragStart:function(){},onDragStop:function(){},imgList:".threesixty_images",imgArray:null,playSpeed:100},d.init()},a.fn.ThreeSixty=function(b){return Object.create(new a.ThreeSixty(this,b))}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(a){"use strict";function b(){}return b.prototype=a,new b});