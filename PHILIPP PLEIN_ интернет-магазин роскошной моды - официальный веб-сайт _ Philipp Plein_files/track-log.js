!function(e,t){function n(){return window.JSBridge||window.ToutiaoJSBridge||{}}function o(e){Y&&!Y._adInfoPromise&&(Y._adInfoPromise=e),_taq&&!_taq._adInfoPromise&&(_taq._adInfoPromise=e)}function i(){return Y&&Y._adInfoPromise?Y._adInfoPromise:_taq&&_taq._adInfoPromise?_taq._adInfoPromise:null}function r(e,t){try{_taq.monitor.info(e,t)}catch(n){}}function a(e,t){try{_taq.monitor.error(e,t)}catch(n){}}function s(e){try{T=e,_taq.context.data.adInfo.req_id=e}catch(t){}}function c(e){try{b=e,_taq.context.data.adInfo.log_extra=e}catch(t){}}function d(e){try{j=e,_taq.context.data.adInfo.ad_id=e}catch(t){}}function u(e){try{U=e,_taq.context.data.adInfo.creative_id=e}catch(t){}}function _(e){try{B=e,_taq.context.data.adInfo.ad_info_from=e}catch(t){}}function g(e){try{J=e,_taq.context.data.adInfo.ad_info_status=e}catch(t){}}function f(){function f(e,t,n){for(var o=0;o<e.length;o++)document.addEventListener(e[o],t,n)}function l(e,t){for(var n,o,i=t[0].toUpperCase()+t.slice(1),r=0;r<VENDOR_PREFIXES.length;){if(n=VENDOR_PREFIXES[r],o=n?n+i:t,o in e)return e[o];r++}return void 0}function W(e){if(!(this instanceof W))throw new TypeError("Constructor Promise requires `new`");if(!it(e))throw new TypeError("Must pass resolver function");this._state=K,this._value=[],this._isChainEnd=!0,ct(this,tt(this,Y),tt(this,z),{then:e})}function Y(e,t,n,o){return t?(o||(o=new Z(this.constructor)),bt(st(o,t,e)),o.promise):(nt(o,Y,e),this)}function z(e,t,n,o){return n?(o||(o=new Z(this.constructor)),bt(st(o,n,e)),o.promise):(nt(o,z,e),this)}function K(e,t,n,o){if(!o){if(!t&&!n)return this;o=new Z(this.constructor)}return e.push({deferred:o,onFulfilled:t||o.resolve,onRejected:n||o.reject}),o.promise}function Z(e){var t=this;return this.promise=new e(function(e,n){t.resolve=e,t.reject=n}),t}function et(e,t,n,o){var i=e._value;e._state=t,e._value=n,o&&t===K&&o._state(n,void 0,void 0,{promise:e,resolve:void 0,reject:void 0});for(var r=0;r<i.length;r++){var a=i[r];e._state(n,a.onFulfilled,a.onRejected,a.deferred)}i.length=0,t===z&&e._isChainEnd&&setTimeout(function(){e._isChainEnd&&yt(n,e)},0)}function tt(e,t){return function(n){et(e,t,n)}}function nt(e,t,n){if(e){var o=e.promise;o._state=t,o._value=n}}function ot(){}function it(e){return"function"==typeof e}function rt(e){return e===Object(e)}function at(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function st(e,t,n){var o=e.promise,i=e.resolve,r=e.reject;return function(){try{var e=t(n);ct(o,i,r,e,e)}catch(e){r(e)}}}function ct(e,t,n,o,i){var r,a,s=n;try{if(o===e)throw new TypeError("Cannot fulfill promise with itself");var c=rt(o);c&&o instanceof e.constructor?et(e,o._state,o._value,o):c&&(r=o.then)&&it(r)?(a=function(o){a=s=ot,ct(e,t,n,o,o)},s=function(e){a=s=ot,n(e)},r.call(i,function(e){a(e)},function(e){s(e)})):t(o)}catch(e){s(e)}}var dt,ut,_t=e._page_type?e._page_type:0,gt=(e._tt_config,{combineData:function(){for(var e={},t=Array.prototype.slice.call(arguments),n=0;n<t.length;n++)for(var o in t[n])e[o]&&t[n][o]&&(e[o]=t[n][o]),e[o]||void 0===t[n][o]||null===t[n][o]||(e[o]=t[n][o]);return e},getOS:function(){var e=navigator.userAgent,t={android:e.match(/(Android)\s+([\d.]+)/),ipad:e.match(/(iPad).*OS\s([\d_]+)/),iphone:e.match(/(iPhone\sOS)\s([\d_]+)/)},n="";return t.android?n="android":(t.ipad||t.iphone)&&(n="ios"),n},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isInApp:function(){return"external"!==window._taq._env.env},isTiktok:function(){return"tiktok"===window._taq._env.env},getDefer:function(){var e={},t=new W(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e},getTestID:function(){var e=this.getLocationURLParam("tt_test_id"),t=this.getCookie("tt_test_id");return e&&e!==t&&this.setCookie("tt_test_id",e),e||t},getLocationURLParam:function(e){return this.getUrlSearchParams(window.location.href,e)||this.getUrlSearchParams(document.referrer,e)},getUrlSearchParams:function(e,t){if(""===e)return"";var n=new URL(e),o=n.searchParams;return o.get(t)||""},setCookie:function(e,t){var n=e+" = "+t;document.cookie=n},getCookie:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){var n=t+e.length+1,o=document.cookie.indexOf(";",n);return unescape(-1==o?document.cookie.substring(n):document.cookie.substring(n,o))}}return""},getLocationParam:function(e){var t={QueryString:function(e){var t=window.location.href,n=new RegExp("[&?]{1}"+e+"=([^&?|^#?]*)","ig");return t.match(n)?decodeURI(t.match(n)[0].substr(e.length+2)):(t=document.referrer,t.match(n)?decodeURI(t.match(n)[0].substr(e.length+2)):"")}};return t.QueryString(e)},queryToJson:function(e){for(var t,n,o,i,r=e.substr(e.lastIndexOf("?")+1),a=r.split("&"),s=a.length,c={},d=0;s>d;d++)a[d]&&(i=a[d].split("="),t=i[0],n=i[1],o=c[t],"undefined"==typeof o?c[t]=n:this.isArray(o)?o.push(n):c[t]=[o,n]);return c},getSdkPath:function(){var e="",t="",n=["s0.","s1.","s2.","s3."],o=n.length;if(V)e=V.src;else for(var i=document.getElementsByTagName("script"),r=i.length||0,a=0;r>a;a++){var s=i[a].src;-1!==s.indexOf("track-log")&&(e=s)}for(var a=0;o>a;a++)-1!==e.indexOf(n[a])&&(t=n[a]);return t},jsonToQuery:function(e){var t=[];e=e||{};var n=/^(?:string|boolean|number)/i;for(var o in e)e.hasOwnProperty(o)&&n.test(typeof e[o])&&t.push(o+"="+e[o]);return t.join("&")},extend:function(e,t){for(var n in t)e[n]=t[n]},getAdId:function(){var e=gt.getLocationParam("_tt_ad_id")||gt.getLocationParam("ad_id")||gt.getLocationParam("aid");return e},getReqId:function(){return gt.getLocationParam("req_id")||""},getCid:function(){return gt.getLocationParam("cid")||""},getWebUrlInfo:function(){var e,t=window.decodeURIComponent(gt.getLocationParam("_toutiao_params")||gt.getLocationParam("_toutiao_recommend")||"");try{e=JSON.parse(t)}catch(n){}return e},encodeParams:function(e){var t=[];e=e||{};var n=/^(?:string|boolean|number)/i;for(var o in e)if(e.hasOwnProperty(o)&&n.test(typeof e[o])){var i=decodeURIComponent(e[o]);t.push(encodeURIComponent(o)+"="+encodeURIComponent(i))}return t.join("&")},syncGet:function(e,t){var n=t||0,o=this,i=new XMLHttpRequest;i.open("GET",e.url,!1),i.withCredentials=!0,i.onreadystatechange=function(){4===i.readyState&&200!==i.status&&1>n&&(n++,o.syncGet(e,n))},i.send(null)},retry:function(e,t){function n(){e(function(e){e&&t>o&&(o++,n())})}var t=t||1,o=0;n()},getGWUrl:function(){return"https://analytics.tiktok.com/api/v2/pixel"},imageGet:function(e){var t=new Image;t.src=window.location.protocol+e.url+"&t="+new Date},addLoadEvent:function(e){var t=window.onload;window.onload="function"!=typeof window.onload?e:function(){t(),e()}},getSiteId:function(){var e=window.location.pathname,t=/\d+/g,n=e.match(t)||[];return n[0]||""},setToSessionStorage:function(e,t){var n=window.sessionStorage;n.setItem(e,t)},getFromSessionStorage:function(e){var t=window.sessionStorage;return t.getItem(e)},isNewJSBirdgeSuccess:function(e){return 1===e.code&&"JSB_SUCCESS"===e.ret&&e.data?!0:!1},_sendEvent:function(e,t){if(gt.isTiktok()){var n={eventName:e.tag,labelName:e.label,value:e.value?e.value:"0",extValue:"0",extJson:e},o=window.JSBridge||window.ToutiaoJSBridge;o.call("sendLog",n,t)}else{var i={event_name:e.label,version:2,properties:e};window.ToutiaoJSBridge.call("track_event",i)}},generateRequestUrl:function(e,t){return e+="?"+gt.jsonToQuery(t)},getByImage:function(e,t){var n=new Image;n.src=gt.generateRequestUrl(e,t)},sendBeacon:function(e,t){return navigator.sendBeacon?navigator.sendBeacon(e,JSON.stringify(t)):!1},sendHTTPLogEvent:function(e,t,n){var o=gt.sendBeacon(e,n);o||gt.getByImage(e,{analytics_message:t.analytics_message})},base64URI:function(e){var t=e;try{t=btoa(e)}catch(n){t=btoa(encodeURIComponent(e))}return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},getEventType:function(e){var t={on_web_detail:"ViewContent",on_web_cart:"AddToCart",on_web_order:"Checkout",shopping:"Purchase",on_web_register:"Registration",view:"Browse",button:"ClickButton",consult:"Consult",form_detail:"ViewForm",form_button:"ClickForm",form:"SubmitForm",phone_detail:"ViewConsultationPage",phone_button:"ClickInConsultationPage",phone:"ConsultByPhone",download_detail:"ViewDownloadPage",download_button:"ClickInDownloadPage",download_start:"ClickToDownload",category:"Category",add_billing:"AddBilling",initiate_order:"StartCheckout",on_web_search:"Search"};return t[e]?t[e]:e}});!function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(n>>16);return o<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function o(e,o,i,r,a,s){return t(n(t(t(o,e),t(r,s)),a),i)}function i(e,t,n,i,r,a,s){return o(t&n|~t&i,e,t,r,a,s)}function r(e,t,n,i,r,a,s){return o(t&i|n&~i,e,t,r,a,s)}function a(e,t,n,i,r,a,s){return o(t^n^i,e,t,r,a,s)}function s(e,t,n,i,r,a,s){return o(n^(t|~i),e,t,r,a,s)}function c(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var o,c,d,u,_,g=1732584193,f=-271733879,l=-1732584194,v=271733878;for(o=0;o<e.length;o+=16)c=g,d=f,u=l,_=v,g=i(g,f,l,v,e[o],7,-680876936),v=i(v,g,f,l,e[o+1],12,-389564586),l=i(l,v,g,f,e[o+2],17,606105819),f=i(f,l,v,g,e[o+3],22,-1044525330),g=i(g,f,l,v,e[o+4],7,-176418897),v=i(v,g,f,l,e[o+5],12,1200080426),l=i(l,v,g,f,e[o+6],17,-1473231341),f=i(f,l,v,g,e[o+7],22,-45705983),g=i(g,f,l,v,e[o+8],7,1770035416),v=i(v,g,f,l,e[o+9],12,-1958414417),l=i(l,v,g,f,e[o+10],17,-42063),f=i(f,l,v,g,e[o+11],22,-1990404162),g=i(g,f,l,v,e[o+12],7,1804603682),v=i(v,g,f,l,e[o+13],12,-40341101),l=i(l,v,g,f,e[o+14],17,-1502002290),f=i(f,l,v,g,e[o+15],22,1236535329),g=r(g,f,l,v,e[o+1],5,-165796510),v=r(v,g,f,l,e[o+6],9,-1069501632),l=r(l,v,g,f,e[o+11],14,643717713),f=r(f,l,v,g,e[o],20,-373897302),g=r(g,f,l,v,e[o+5],5,-701558691),v=r(v,g,f,l,e[o+10],9,38016083),l=r(l,v,g,f,e[o+15],14,-660478335),f=r(f,l,v,g,e[o+4],20,-405537848),g=r(g,f,l,v,e[o+9],5,568446438),v=r(v,g,f,l,e[o+14],9,-1019803690),l=r(l,v,g,f,e[o+3],14,-187363961),f=r(f,l,v,g,e[o+8],20,1163531501),g=r(g,f,l,v,e[o+13],5,-1444681467),v=r(v,g,f,l,e[o+2],9,-51403784),l=r(l,v,g,f,e[o+7],14,1735328473),f=r(f,l,v,g,e[o+12],20,-1926607734),g=a(g,f,l,v,e[o+5],4,-378558),v=a(v,g,f,l,e[o+8],11,-2022574463),l=a(l,v,g,f,e[o+11],16,1839030562),f=a(f,l,v,g,e[o+14],23,-35309556),g=a(g,f,l,v,e[o+1],4,-1530992060),v=a(v,g,f,l,e[o+4],11,1272893353),l=a(l,v,g,f,e[o+7],16,-155497632),f=a(f,l,v,g,e[o+10],23,-1094730640),g=a(g,f,l,v,e[o+13],4,681279174),v=a(v,g,f,l,e[o],11,-358537222),l=a(l,v,g,f,e[o+3],16,-722521979),f=a(f,l,v,g,e[o+6],23,76029189),g=a(g,f,l,v,e[o+9],4,-640364487),v=a(v,g,f,l,e[o+12],11,-421815835),l=a(l,v,g,f,e[o+15],16,530742520),f=a(f,l,v,g,e[o+2],23,-995338651),g=s(g,f,l,v,e[o],6,-198630844),v=s(v,g,f,l,e[o+7],10,1126891415),l=s(l,v,g,f,e[o+14],15,-1416354905),f=s(f,l,v,g,e[o+5],21,-57434055),g=s(g,f,l,v,e[o+12],6,1700485571),v=s(v,g,f,l,e[o+3],10,-1894986606),l=s(l,v,g,f,e[o+10],15,-1051523),f=s(f,l,v,g,e[o+1],21,-2054922799),g=s(g,f,l,v,e[o+8],6,1873313359),v=s(v,g,f,l,e[o+15],10,-30611744),l=s(l,v,g,f,e[o+6],15,-1560198380),f=s(f,l,v,g,e[o+13],21,1309151649),g=s(g,f,l,v,e[o+4],6,-145523070),v=s(v,g,f,l,e[o+11],10,-1120210379),l=s(l,v,g,f,e[o+2],15,718787259),f=s(f,l,v,g,e[o+9],21,-343485551),g=t(g,c),f=t(f,d),l=t(l,u),v=t(v,_);return[g,f,l,v]}function d(e){var t,n="",o=32*e.length;for(t=0;o>t;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var o=8*e.length;for(t=0;o>t;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function _(e){return d(c(u(e),8*e.length))}function g(e,t){var n,o,i=u(e),r=[],a=[];for(r[15]=a[15]=void 0,i.length>16&&(i=c(i,8*e.length)),n=0;16>n;n+=1)r[n]=909522486^i[n],a[n]=1549556828^i[n];return o=c(r.concat(u(t)),512+8*t.length),d(c(a.concat(o),640))}function f(e){var t,n,o="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=o.charAt(t>>>4&15)+o.charAt(15&t);return i}function l(e){return unescape(encodeURIComponent(e))}function v(e){return _(l(e))}function m(e){return f(v(e))}function h(e,t){return g(l(e),l(t))}function p(e,t){return f(h(e,t))}function S(e,t,n){return t?n?h(t,e):p(t,e):n?v(e):m(e)}e.md5=S}(this);var ft={getPrefix:function(e){var t="";try{t=e.split("_")[0]}catch(n){}return t},traversal:function(e,t,n,o,i){if(e&&1===e.nodeType&&!(n>=o)){var r="",a=this.getPrefix(t);i(t);for(var s,c=0,d=e.childNodes,u=0;c<d.length;c++)s=d[c],s&&1===s.nodeType&&(r=a+","+u+"_"+s.tagName,this.traversal(s,r,n+1,o,i),++u)}}};VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"];var lt,vt=window,mt=void 0!==l(vt,"PointerEvent"),ht="ontouchstart"in vt;!function(e){e[e.Default=0]="Default",e[e.Start=1]="Start",e[e.Move=2]="Move",e[e.End=4]="End",e[e.Cancle=8]="Cancle"}(lt||(lt={}));var pt={pointer:{events:["pointerdown","pointermove","pointerup","pointercancel"],handler:function(e){var t=e.type,n={status:lt.Default,timestamp:Date.now(),position:[e.clientX,e.clientY]};return t!==this.events[0]||0!==e.button&&"touch"!==e.pointerType?t===this.events[1]?n.status=lt.Move:t===this.events[2]?n.status=lt.End:t===this.events[3]&&(n.status=lt.Cancle):n.status=lt.Start,n}},touch:{events:["touchstart","touchmove","touchend","touchcancel"],handler:function(e){var t=e.type;if(1!==e.changedTouches.length)return null;var n={status:lt.Default,timestamp:Date.now(),position:[e.changedTouches[0].clientX,e.changedTouches[0].clientY]};return t===this.events[0]?n.status=lt.Start:t===this.events[1]?n.status=lt.Move:t===this.events[2]?n.status=lt.End:t===this.events[3]&&(n.status=lt.Cancle),n.status===lt.Default?null:n}},mouse:{events:["mousedown","mousemove","mouseup"],handler:function(e){var t=e.type,n={status:lt.Default,timestamp:Date.now(),position:[e.clientX,e.clientY]};return t===this.events[0]&&0===e.button?n.status=lt.Start:t===this.events[1]?n.status=lt.Move:t===this.events[2]&&(n.status=lt.End),n.status&lt.Move&&1!==e.which&&(n.status=lt.End),n.status===lt.Default?null:n}}};"MSPointerEvent"in vt&&!("PointerEvent"in vt)&&(pt.pointer.events=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var St={interval:300,time:250,threshold:9,posThreshold:10},wt={};wt.addClickEvent=function(e,t){var n=function(t){var n,o,i,r;return function(a){var s=pt[t].handler(a);if(null!==s){if(s.status&lt.Start)return n=lt.Start,o=s.timestamp,i=s.position,void(r=a.target);if(s.status&lt.End)n&lt.Start&&s.timestamp-o<St.time&&Math.sqrt(Math.pow(s.position[0]-i[0],2)+Math.pow(s.position[1]-i[1],2))<St.threshold&&e(a);else if(s.status&lt.Move&&n&lt.Start)return}n=0,o=0,i=[0,0],r=null}};mt?f(pt.pointer.events,n("pointer"),t):ht?f(pt.touch.events,n("touch"),t):f(pt.mouse.events,n("mouse"),t)},W.prototype.then=function(e,t){return e=it(e)?e:void 0,t=it(t)?t:void 0,(e||t)&&(this._isChainEnd=!1),this._state(this._value,e,t)},W.prototype.catch=function(e){return this.then(void 0,e)},W.resolve=function(e){var t=this;return rt(e)&&e instanceof this?e:new t(function(t){t(e)})},W.reject=function(e){return new this(function(t,n){n(e)})},W.all=function(e){var t=this;return new t(function(n,o){var i=e.length,r=new Array(i);return 0===i?n(r):void at(e,function(e,a){t.resolve(e).then(function(e){r[a]=e,0==--i&&n(r)},o)})})},W.race=function(e){var t=this;return new t(function(n,o){for(var i=0;i<e.length;i++)t.resolve(e[i]).then(n,o)})};var yt=function(e){throw e};W._overrideUnhandledExceptionHandler=function(e){yt=e};var bt=function(){function e(){for(var e=0;o>e;e++){var t=n[e];n[e]=null,t()}o=0}var t;"undefined"!=typeof window&&window.postMessage?(window.addEventListener("message",e),t=function(){window.postMessage("macro-task","*")}):t=function(){setTimeout(e,0)};var n=new Array(16),o=0;return function(e){0===o&&t(),n[o++]=e}}();N=_t?gt.getSiteId():"",e._taq={_env:H,_variation_id:X,_tt_test_id:gt.getTestID(),_adInfoPromise:i(),monitor:_taq.monitor,context:_taq.context,push:function(e){(e.event_pixel_id||e.event_pixel_code)&&_taq.track(e)},track:function(e){if(!e.event_type)return void console.log("event_type is null");e.convert_id&&(F=e.convert_id);var t=function(){var t=_taq._assembleEventData(e);_taq._send_event(t.event,t.trackLogData)};dt&&ut?W.all([dt,ut]).then(function(){t()},function(){t()}):t()},getFromTTBridge:function(e,t){n()&&"function"==typeof n().call&&n().call(e,{},function(e){t(e)})},_send_event:function(e,t){if(this._tt_test_id){var n=gt.getGWUrl();gt.sendHTTPLogEvent(n,e,t)}else{if(r("pixel_send",{pixelCode:t.context.pixel.code,extJSON:{event:t.event}}),gt.isInApp())try{gt._sendEvent(e,function(){r("jsb_send_success",{pixelCode:t.context.pixel.code,extJSON:{event:t.event,jsb_schema:m(),jsb_native_invoker:v(),jsb:$()}})}),r("jsb_send",{pixelCode:t.context.pixel.code,extJSON:{event:t.event,jsb_schema:m(),jsb_native_invoker:v(),jsb:$()}})}catch(o){a("jsb_error",new Error("jsb send event error: "+o&&o.message))}if(gt.getFromSessionStorage("umeng_cid")||!gt.isInApp()){var n=gt.getGWUrl();gt.sendHTTPLogEvent(n,e,t)}}},_generateTrackLogData:function(e){var t={ad_id:e.ad_id,req_id:e.req_id,creative_id:e.cid,log_extra:e.log_extra,idc:e.idc,convert_id:e.convert_id,callback:e.callback,uid:e.user_id,device_id:e.device_id,ad_info_from:e.ad_info_from,ad_info_status:e.ad_info_status},n={};return{event:gt.getEventType(e.event_type),context:{ad:t,user:n,pixel:{code:e.event_pixel_code},page:{url:window.encodeURI(window.location.href),referrer:window.encodeURI(document.referrer)},library:{version:e.sdk_version,name:"pixel.js"},variation_id:X},tt_test_id:e.tt_test_id||void 0,timestamp:(new Date).toJSON()}},_assembleEventData:function(t){var n=U||gt.getCid()||gt.getFromSessionStorage("umeng_cid")||"",o=n,i=b||gt.getFromSessionStorage("umeng_log_extra")||"{}",r=O||gt.getFromSessionStorage("umeng_callback")||gt.getLocationParam("ttclid")||"",a=h,s=t.event_type||"",c=t.convert_id||"",d=t.event_pixel_code||"",u=I||gt.getFromSessionStorage("umeng_device_id")||"",_=k||C||"",g=decodeURIComponent(e.location.href),f=L||gt.getFromSessionStorage("umeng_idc")||"",l=T||gt.getReqId()||gt.getFromSessionStorage("_tt_req_id")||gt.getFromSessionStorage("umeng_req_id")||"",v=j||gt.getFromSessionStorage("umeng_ad_id")||"",m=this._tt_test_id,p=B,S=J,w="ad_analytics_msg",y="insight_log",x="ad_analytics_msg",E={value:o,log_extra:i,callback:r,page_url:g,sdk_version:a,event_type:s,event_pixel_code:d,user_id:_,device_id:u,tag:w,label:y,category:x,convert_id:c,cid:n,idc:f,callback:r,req_id:l,ad_id:v,tt_test_id:m,ad_info_from:p,ad_info_status:S},q=_taq._generateTrackLogData(E),P=JSON.stringify(q),F=gt.base64URI(P),N={category:x,tag:w,label:y,value:o,trackLogData:P,analytics_message:F};return{event:N,trackLogData:q}},_getPageInfo:function(){var e={},t=gt.getFromSessionStorage("umeng_cid");return e.req_id=T||gt.getReqId()||gt.getFromSessionStorage("umeng_req_id")||"",e.cid=U||gt.getCid()||"",""===e.cid&&t&&(e.cid=t,M=y.SUCCESS),e.site_id=N,e.ad_id=gt.getAdId(),e},_getDeviceInfo:function(){var e={};return e.device_id=I||gt.getFromSessionStorage("umeng_device_id")||"",e.user_id=k,e.uid=C||gt.getFromSessionStorage("umeng_uid")||"",e.ut=x||gt.getFromSessionStorage("umeng_ut")||"",e.client_version=E||gt.getFromSessionStorage("umeng_app_version")||"",e.version_code=q||gt.getFromSessionStorage("umeng_version_code")||"",e}};var Tt={initMd5:function(){ft.traversal(t.body,"0_body",0,w,function(e){p+=e}),S=md5(p)},bindEvent:function(){var e=this;wt.addClickEvent(function(n){for(var o=n.target;o!=t;)"function"==typeof o.hasAttribute&&o.hasAttribute("tt-data-click")&&e._sendTargetMsg(o),o=o.parentNode},!0)},getInfoFromUrl:function(){O=gt.getLocationParam("ttclid")||"",gt.setToSessionStorage("umeng_callback",O);var e=gt.getWebUrlInfo();return e?(M=y.SUCCESS,d(gt.getAdId()||""),s(e.req_id||""),F=e.convert_id||"",u(e.cid||""),C=e.uid||"",x=e.ut||"",I=e.device_id||"",c(e.log_extra||""),E=e.version||"",q=e.version||"",L=e.idc||"",gt.setToSessionStorage("umeng_ad_id",j),gt.setToSessionStorage("umeng_req_id",T),gt.setToSessionStorage("umeng_cid",U),gt.setToSessionStorage("umeng_uid",C),gt.setToSessionStorage("umeng_ut",x),gt.setToSessionStorage("umeng_device_id",I),gt.setToSessionStorage("umeng_log_extra",b),gt.setToSessionStorage("umeng_app_version",E),gt.setToSessionStorage("umeng_version_code",q),gt.setToSessionStorage("umeng_idc",L),_("url"),{ad_id:j,req_id:T,cid:U,user_id:C,device_id:I,log_extra:b,idc:L}):!1},initFromSessionStorage:function(){var e=gt.getDefer(),t=gt.getDefer();if("ad"===gt.getFromSessionStorage("_tt_ad_info_success")){r("ad_info_init_start"),s(T||gt.getFromSessionStorage("_tt_req_id")),u(U||gt.getFromSessionStorage("_tt_cid")),F=F||gt.getFromSessionStorage("_tt_convert_id"),c(b||gt.getFromSessionStorage("_tt_log_extra")),D=y.UNUSE,A=y.SUCCESS,_("cache"),g("fulfilled(cache)");try{r("ad_info_init_end",{extJSON:{type:"from_cache",cache:JSON.stringify({req_id:T,cid:U,convert_id:F,log_extra:b})}})}catch(n){}e.resolve({req_id:T,cid:U,convert_id:F,log_extra:b})}else{var d;r("ad_info_init_start",{extJSON:{jsb_schema:m(),jsb_native_invoker:v(),jsb:$()}});var f=i(),l=f?f:new W(function(e){_taq.getFromTTBridge("adInfo",function(t){e(t)})});o(l),_("jsb"),g("pending"),l.then(function(t){var n;gt.isNewJSBirdgeSuccess(t)&&(t=t.data),t=t||{},"string"==typeof t&&(t=JSON.parse(t)),u(t.cid||t.ad_id||""),n=JSON.parse(t.log_extra||"{}"),s(n.req_id||""),F=n.convert_id||"",c(t.log_extra||"{}"),g("fulfilled"),r("ad_info_init_end",{extJSON:{jsb_schema:m(),jsb_native_invoker:v(),jsb:$()}}),U&&T&&(gt.setToSessionStorage("_tt_ad_info_success","ad"),gt.setToSessionStorage("_tt_cid",U),gt.setToSessionStorage("_tt_req_id",T),gt.setToSessionStorage("_tt_convert_id",F),gt.setToSessionStorage("_tt_log_extra",b)),e.resolve({req_id:T,cid:U,convert_id:F,log_extra:b}),o(dt),d&&clearTimeout(d)}),d=setTimeout(function(){a("jsb_error",new Error("jsb get ad info timeout"+Q)),e.reject({req_id:T,cid:U,convert_id:F,log_extra:b})},Q)}return"app"===gt.getFromSessionStorage("_tt_app_info_success")?(I=I||gt.getFromSessionStorage("_tt_device_id"),k=k||gt.getFromSessionStorage("_tt_user_id"),E=E||gt.getFromSessionStorage("_tt_app_version"),q=q||gt.getFromSessionStorage("_tt_version_code"),P=P||gt.getFromSessionStorage("_tt_app_id"),R=y.UNUSE,t.resolve({device_id:I,user_id:k,app_version:E,version_code:q,app_id:P})):(_taq.getFromTTBridge("appInfo",function(e){gt.isNewJSBirdgeSuccess(e)&&(e=e.data),e=e||{},I=e.device_id||"",k=e.user_id||"",E=e.appVersion||"",q=e.versionCode||"",P=e.aid||"",g_net_type=e.netType||"",gt.setToSessionStorage("_tt_app_info_success","app"),gt.setToSessionStorage("_tt_device_id",I),gt.setToSessionStorage("_tt_user_id",k),gt.setToSessionStorage("_tt_app_version",E),gt.setToSessionStorage("_tt_version_code",q),gt.setToSessionStorage("_tt_app_id",P),t.resolve({device_id:I,user_id:k,app_version:E,version_code:q,app_id:P})}),setTimeout(function(){t.reject({device_id:I,user_id:k,app_version:E,version_code:q,app_id:P})},Q)),dt=e.promise,ut=t.promise,dt.then(null,function(){}),ut.then(null,function(){}),{adInfo:e.promise,appInfo:t.promise}},_sendTargetMsg:function(t){var n={};n.page_url=decodeURIComponent(e.location.href),n.page_type=_t,n.event_type=t.getAttribute("tt-data-eventtype")||"",n.convert_id=t.getAttribute("tt-data-convertid")||"",n.event_value=t.getAttribute("tt-data-eventvalue")||"",n.target=t,n.options=t.getAttribute("tt-data-options")||"",_taq.push(n)}};if(e._taq.getCommonDataPromise=function(){var e=this._getPageInfo(),t=Tt.getInfoFromUrl();return t?gt.combineData(e,t):gt.combineData(e,{req_id:T,cid:U,user_id:C,device_id:I,log_extra:b})},Tt.initMd5(),!Tt.getInfoFromUrl()&&gt.isInApp()&&Tt.initFromSessionStorage(),Tt.bindEvent(),G&&G.length>0)for(var It=0;It<G.length;It++)_taq.push(G[It])}function l(e,t){var n=document.createElement("script");n.src=e,t=t||function(){},n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this))},document.getElementsByTagName("head")[0].appendChild(n)}function v(){var e=window||{};return e.JS2NativeBridge&&e.JS2NativeBridge._invokeMethod?"standard":e.ToutiaoJSBridge&&e.ToutiaoJSBridge.invokeMethod?"legacy-ies":e.JS2NativeBridge&&e.JS2NativeBridge.call?"legacy-toutiao-android":e.webkit&&e.webkit.messageHandlers&&e.webkit.messageHandlers.callMethodParams?"webkit-message-handler":e.callMethodParams?"legacy-toutiao-ios-webview":"iframe"}function m(){var e=window||{},t=window.navigator.userAgent;return t.match(/super/i)?"bds://":/super/gi.test(t)?"bytedance://":!t.match(/(newsarticle|videoarticle|lv|faceu|ulike|beauty_me_|faceu-os|ulike-os|beauty_me_oversea_|retouch)\/([\d.]+)/i)&&!/super|automobile/gi.test(t)||/webcast/gi.test(t)||/luckycatversion/gi.test(t)?e.JSBridge&&e.JSBridge._invokeMethod?"nativeapp://":"bytedance://":"nativeapp://"}if(!e._tt_track){var h="0.0.41",p="",S="",w=20,y={FAIL:0,UNUSE:1,SUCCESS:2},b=null,T="",I="",k="",C="",x="",E="",q="",P="",U="",F="",j="",N="",D=y.UNUSE,R=y.UNUSE,B="",J="",M=y.UNUSE,A=(y.SUCCESS,y.UNUSE),L="",O="",V=document.currentScript;e._tt_track=[];var G=window._taq||[],H=window._taq._env,X=window._taq._variation_id,W=1e3,Q=1*W;switch(X){case"test1":Q=2*W;break;case"test2":Q=5*W;break;case"test3":Q=7*W;break;case"test4":Q=10*W}var Y=window[window.TiktokAnalyticsObject];G.context={data:{libraryInfo:{version:h,name:"pixel.js"},pageInfo:{url:location.href,referrer:location.referrer},pageSign:{sessionId:"",variation_id:X},adInfo:{req_id:T,log_extra:b,ad_id:j,creative_id:U}}};var z=function(){return window.top!==window},$=function(){return z()?H.jsb.iframe:H.jsb.normal},K=$();K?(r("jsb_init_start"),l(K,function(){r("jsb_init_end"),f()})):f()}}(window,document);